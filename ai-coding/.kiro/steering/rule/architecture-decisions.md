---
inclusion: always
---

# 架构决策记录 (ADR)
## 决策文档要求每个架构决策
**必须**使用此模板进行记录：
### ADR 模板:
```markdown# 
ADR-XXXX: [标题]
日期: YYYY-MM-DD
状态: [提议 | 已接受 | 已废弃 | 已取代]
决策者: [决策者列表]
## 背景[描述问题和约束条件]
## 决策[说明选择的解决方案]
## 结果
### 正面影响:- [列出好处]
### 负面影响:- [列出缺点和风险]
### 缓解措施:- [如何应对负面影响]
## 实施说明[技术细节和实施指导]
```
## 架构原则
### SOLID 原则执行:
- **单一职责**: 每个类/模块只有一个变化的原因
- **开放封闭**: 对扩展开放，对修改关闭
- **里氏替换**: 子类型必须可替换其基类型
- **接口隔离**: 客户端不应依赖未使用的接口
- **依赖反转**: 依赖抽象而非具体实现
### 领域驱动设计:
- 明确建模业务领域
- 一致使用通用语言
- 保持清晰的界限上下文
- 将领域逻辑与基础设施分离
### 测试架构:
- 使用依赖注入以提高可测试性
- 明晰关注点分离
- 可测试的接口和抽象
- 独立的单元测试目标
## 代码组织标准
### 分层职责:
- **表现层**: UI 组件，控制器
- **应用层**: 用例，编排
- **领域层**: 业务逻辑，实体
- **基础设施**: 数据访问，外部服务
### 依赖规则:
- 依赖关系只指向内部
- 内层不应了解外层
- 在边界使用依赖注入
- 使用接口抽象外部依赖